# スライドテキスト・画像-無限スクロールアニメーション実装

## 概要

スライドテキストとスライド画像の無限スクロールアニメーション実装。CSS アニメーションと GSAP ScrollTrigger を使用したマスクアニメーション機能を含む。右から左へ無限にスクロールするテキストと画像のループ表示を実現。

## 内容

スライドテキストとスライド画像は、無限スクロールアニメーションで右から左へ流れるように表示される。CSS の`@keyframes`を使用したアニメーションと、GSAP ScrollTrigger を使用したマスクアニメーションを組み合わせて実装。複数のアイテムを連続して配置し、シームレスなループ表示を実現している。

## コードスニペット

### HTML（スライドテキスト）

```html
<div class="top-interview__slide-text slide-text js-mask">
  <div class="slide-text__wrapper" aria-hidden="true">
    <ul class="slide-text__items slide-text__items--left">
      <li class="slide-text__item slide-text__item-top-interview">
        <img
          src="./assets/images/top/text-same-craft-smarter-work-01.svg"
          alt="Same Craft, Smarter Work."
        />
      </li>
      <li class="slide-text__item slide-text__item-top-interview">
        <img
          src="./assets/images/top/text-same-craft-smarter-work-01.svg"
          alt="Same Craft, Smarter Work."
        />
      </li>
      <li class="slide-text__item slide-text__item-top-interview">
        <img
          src="./assets/images/top/text-same-craft-smarter-work-01.svg"
          alt="Same Craft, Smarter Work."
        />
      </li>
    </ul>
    <ul class="slide-text__items slide-text__items--left">
      <li class="slide-text__item slide-text__item-top-interview">
        <img
          src="./assets/images/top/text-same-craft-smarter-work-01.svg"
          alt="Same Craft, Smarter Work."
        />
      </li>
      <li class="slide-text__item slide-text__item-top-interview">
        <img
          src="./assets/images/top/text-same-craft-smarter-work-01.svg"
          alt="Same Craft, Smarter Work."
        />
      </li>
      <li class="slide-text__item slide-text__item-top-interview">
        <img
          src="./assets/images/top/text-same-craft-smarter-work-01.svg"
          alt="Same Craft, Smarter Work."
        />
      </li>
    </ul>
  </div>
</div>
```

### HTML（スライド画像）

```html
<div class="top-interview__slide-img slide-img js-mask">
  <div class="slide-img__wrapper">
    <ul
      class="slide-img__items slide-img__items-top-interview slide-img__items--left"
    >
      <li class="slide-img__item slide-img__item-top-interview">
        <img src="./assets/images/top/loop-img-01.webp" alt="/" />
      </li>
      <li class="slide-img__item slide-img__item-top-interview">
        <img src="./assets/images/top/loop-img-02.webp" alt="/" />
      </li>
      <li class="slide-img__item slide-img__item-top-interview">
        <img src="./assets/images/top/loop-img-03.webp" alt="/" />
      </li>
      <li class="slide-img__item slide-img__item-top-interview">
        <img src="./assets/images/top/loop-img-04.webp" alt="/" />
      </li>
      <li class="slide-img__item slide-img__item-top-interview">
        <img src="./assets/images/top/loop-img-05.webp" alt="/" />
      </li>
      <li class="slide-img__item slide-img__item-top-interview">
        <img src="./assets/images/top/loop-img-06.webp" alt="/" />
      </li>
      <!-- 繰り返し用のアイテム（sp-noneクラス付き） -->
    </ul>
    <!-- 2つ目のリスト（ループ用） -->
  </div>
</div>
```

### CSS（スライドテキスト）

```css
.slide-text {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  overflow: hidden;
}

.slide-text::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.slide-text.top-interview__slide-text {
  height: rem(281);

  @include mq("md") {
    height: rem(131);
  }
}

.slide-text.top-skill__slide-text {
  height: rem(217);

  @include mq("md") {
    height: rem(77);
  }
}

.slide-text__wrapper {
  display: flex;
  overflow: hidden;
  align-items: center;
}

.slide-text__items {
  display: flex;
  align-items: center;
}

.slide-text__items--left {
  animation: infinity-scroll-left 100s infinite linear 0.5s both;
}

/* 右から左へ */
@keyframes infinity-scroll-left {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-100%);
  }
}

.slide-text__item {
  position: relative;
  width: 100%;

  @include mq(md) {
  }
}

.slide-text__item.slide-text__item-top-interview,
.slide-text__item.slide-text__item-top-recruit {
  width: rem(3222);
  margin-left: rem(100);

  @include mq("md") {
    width: rem(1500);
    margin-left: rem(50);
  }
}

.slide-text__item.slide-text__item-top-skill {
  width: rem(1975);
  margin-left: rem(50);

  @include mq("md") {
    width: rem(700);
    margin-left: rem(30);
  }
}

.slide-text.slide-text-top-mv .slide-text__item img {
  mix-blend-mode: color-burn;
}
```

### CSS（スライド画像）

```css
.slide-img {
  width: 100%;
  overflow: hidden;
}

.slide-img.fv-top-interview__slide-img {
  height: rem(270);

  @include mq("md") {
  }
}

/* 右から左へ */
@keyframes infinity-scroll-left {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-100%);
  }
}

.slide-img__wrapper {
  display: flex;
  overflow: hidden;
  align-items: center;
  height: 100%;
}

.slide-img__items.slide-img__items-top-interview {
  display: flex;
  align-items: center;
  gap: rem(5);
  margin-left: rem(5);
}

.slide-img__items-top-interview.slide-img__items--left {
  animation: infinity-scroll-left 90s infinite linear 0.5s both;
}

.slide-img__item.slide-img__item-top-interview {
  position: relative;
  width: rem(480);
  background-color: $black_1a1c1c;

  @include mq("md") {
    width: rem(200);
  }
}

.slide-img__item.slide-img__item-top-interview img {
  aspect-ratio: 480 / 270;
  object-fit: cover;
  opacity: 0.6;
  filter: blur(2px);
}
```

### JavaScript（マスクアニメーション）

```javascript
//-----------------------------------------------
// マスクアニメーション（X軸方向）.js-mask
//-----------------------------------------------
document.addEventListener("DOMContentLoaded", () => {
  const masks = document.querySelectorAll(".js-mask");

  masks.forEach((mask) => {
    gsap.fromTo(
      mask,
      {},
      {
        scrollTrigger: {
          trigger: mask,
          start: "top bottom-=100",
          once: true,
          toggleClass: { targets: mask, className: "is-open" },
          id: "vertical-mask",
        },
      }
    );
  });
});
```

## 次アクション

- [ ] 関連ノートにリンク
- [ ] 必要に応じて Memory Note に変換（コードスニペットの場合）
- [ ] 04_Memory/Technical/Programming/HTML-CSS/ への移動を検討

#inbox #html-snippet #css-snippet #javascript-snippet #web-development #gsap #scrolltrigger #animation #infinite-scroll
